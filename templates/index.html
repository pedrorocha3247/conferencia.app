<!DOCTYPE html>
<html lang="pt-BR" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Validador de Remessas</title>
    <link href="https://bootswatch.com/5/cyborg/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #222; }
        .container { max-width: 700px; margin-top: 50px; margin-bottom: 50px; }
        .company-logo { display: block; margin: 0 auto 30px auto; max-height: 80px; width: auto; }
        .tab-content { border: 1px solid #4e5d6c; border-top: none; padding: 2rem; border-radius: 0 0 .375rem .375rem; background-color: #2a3137; }
        .nav-pills .nav-link.active { background-color: var(--bs-primary); color: #fff; }
        .company-selector { position: absolute; top: 1rem; right: 1rem; z-index: 1050; }

        /* <<NOVO>>: Estilos da Tela de Carregamento (Splash Screen) */
        #splash-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: #222; display: flex; justify-content: center; align-items: center; z-index: 9999; opacity: 1; transition: opacity 0.8s ease-out; }
        #splash-screen .company-logo { max-width: 350px; width: 80%; animation: pulse 2s infinite ease-in-out; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.08); } 100% { transform: scale(1); } }

        /* <<ATUALIZADO>>: Tema de cores para Pick Money (Verde) */
        body.theme-pickmoney { --bs-primary: #28a745; --bs-primary-rgb: 40, 167, 69; }
        body.theme-pickmoney .btn-primary {
            --bs-btn-bg: var(--bs-primary);
            --bs-btn-border-color: var(--bs-primary);
            --bs-btn-hover-bg: #228c3a;
            --bs-btn-hover-border-color: #208236;
            --bs-btn-active-bg: #208236;
            --bs-btn-active-border-color: #1d7832;
        }
        body.theme-pickmoney .btn-secondary {
             --bs-btn-color: #fff;
             --bs-btn-bg: #5a6268;
             --bs-btn-border-color: #5a6268;
        }
    </style>
</head>
<body>
    <div id="splash-screen">
        <img src="" alt="Logótipo da Empresa" class="company-logo">
    </div>

    <div class="company-selector">
        <div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="companyDropdown" data-bs-toggle="dropdown" aria-expanded="false">Empresas</button>
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="companyDropdown">
                <li><a class="dropdown-item company-choice" href="#" data-company="momentum">Momentum</a></li>
                <li><a class="dropdown-item company-choice" href="#" data-company="pickmoney">Pick Money</a></li>
            </ul>
        </div>
    </div>

    <div class="container" id="main-content" style="display: none;">
        <div><img src="" alt="Logótipo da Empresa" class="company-logo"></div>
        <ul class="nav nav-pills nav-fill" id="myTab" role="tablist">
            <li class="nav-item" role="presentation" id="validacao-tab-li"><button class="nav-link" id="validacao-tab" data-bs-toggle="tab" data-bs-target="#validacao-tab-pane" type="button" role="tab">Validação Simples</button></li>
            <li class="nav-item" role="presentation"><button class="nav-link" id="comparativo-tab" data-bs-toggle="tab" data-bs-target="#comparativo-tab-pane" type="button" role="tab">Comparação</button></li>
        </ul>
        <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade" id="validacao-tab-pane" role="tabpanel"></div>
            <div class="tab-pane fade" id="comparativo-tab-pane" role="tabpanel"></div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // <<ATUALIZADO>>: Lógica completa com Tema e Splash Screen
        document.addEventListener('DOMContentLoaded', function() {
            const logos = {
                momentum: "https://i.postimg.cc/k52qrH0Z/Imagem1.png",
                pickmoney: "https://i.postimg.cc/k52qrH0Z/Imagem1.png" // !! ATENÇÃO !!: Substitua pelo logo da Pick Money
            };

            const body = document.body;
            const logoElements = document.querySelectorAll('.company-logo');
            const validacaoTabLi = document.getElementById('validacao-tab-li');
            const validacaoTab = new bootstrap.Tab(document.getElementById('validacao-tab'));
            const comparativoTab = new bootstrap.Tab(document.getElementById('comparativo-tab'));
            const splashScreen = document.getElementById('splash-screen');
            const mainContent = document.getElementById('main-content');

            function applyCompanyTheme(company) {
                localStorage.setItem('selectedCompany', company);
                logoElements.forEach(logo => { logo.src = logos[company]; });

                if (company === 'pickmoney') {
                    body.classList.add('theme-pickmoney');
                    validacaoTabLi.style.display = 'none';
                    comparativoTab.show();
                } else {
                    body.classList.remove('theme-pickmoney');
                    validacaoTabLi.style.display = 'block';
                    validacaoTab.show();
                }
            }

            document.querySelectorAll('.company-choice').forEach(choice => {
                choice.addEventListener('click', function(e) {
                    e.preventDefault();
                    applyCompanyTheme(this.getAttribute('data-company'));
                });
            });

            // Lógica da Splash Screen
            const savedCompany = localStorage.getItem('selectedCompany') || 'momentum';
            applyCompanyTheme(savedCompany); // Aplica o tema antes de tudo

            setTimeout(() => {
                splashScreen.style.opacity = '0';
                setTimeout(() => {
                    splashScreen.style.display = 'none';
                    mainContent.style.display = 'block';
                }, 600);
            }, 2000); // Duração da splash screen
        });
    </script>
</body>
</html>
