<!DOCTYPE html>
<html lang="pt-BR" data-bs-theme="dark">
<head>
    <title>Admin - Gerenciar Regras</title>
    <link href="https://bootswatch.com/5/cyborg/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <h2>Gerenciar Regras de Validação</h2>
        <p>Altere os valores e clique em salvar. As novas validações usarão essas regras.</p>
        <a href="{{ url_for('logout') }}" class="btn btn-secondary mb-3">Sair</a>
        
        <form method="POST" action="{{ url_for('admin') }}">
            <h3>Valores por Empreendimento (EMP_MAP)</h3>
            {% for emp, valores in emp_map.items() %}
                <h4>{{ emp }}</h4>
                <div class="row mb-2">
                    <div class="col">
                        <label>Melhoramentos</label>
                        <input type="number" step="0.01" class="form-control" name="emp_{{ emp }}_melhoramentos" value="{{ valores.Melhoramentos }}">
                    </div>
                    <div class="col">
                        <label>Fundo de Transporte</label>
                        <input type="number" step="0.01" class="form-control" name="emp_{{ emp }}_transporte" value="{{ valores['Fundo de Transporte'] }}">
                    </div>
                </div>
            {% endfor %}
            
            <hr>
            
            <h3>Valores Fixos (BASE_FIXOS)</h3>
            {% for nome, valores in base_fixos.items() %}
                <div class="mb-2">
                    <label>{{ nome }}</label>
                    <input type="text" class="form-control" name="base_{{ nome }}" value="{{ valores|join(', ') }}">
                    <small class="text-muted">Valores separados por vírgula</small>
                </div>
            {% endfor %}
            
            <button type="submit" class="btn btn-primary mt-3">Salvar Alterações</button>
        </form>
    </div>
</body>
</html>
